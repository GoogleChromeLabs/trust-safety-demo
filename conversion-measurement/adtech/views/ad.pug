doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title Ad
  meta(http-equiv='origin-trial' content='AhqBGG80sjR20DtrlBQtRHfKr8E3swQKHaOqx/BvsQ4kTfErFox5Ki9PuviGrm5JeRF74FCNjJ4HEeQXwe8xhA0AAAB+eyJvcmlnaW4iOiJodHRwczovL2FkdGVjaC1kb3QtcGVhY29jay1kZW1vLTI4MzgyMi5udy5yLmFwcHNwb3QuY29tOjQ0MyIsImZlYXR1cmUiOiJDb252ZXJzaW9uTWVhc3VyZW1lbnQiLCJleHBpcnkiOjE2MDg4MTgzMDZ9')
body(style={"font-family": "sans-serif", "background": "#ffe2e3"})
| Ad
// 864000000 = 10 days in milliseconds
a#ad(href=href conversiondestination=conversiondestination impressiondata='' reportingorigin=reportingorigin impressionexpiry='864000000' target='_blank')
  img(width='180' src='/shoes07.png' alt='shoes 07')
script.
  const toHex = (value) => value.toString(16)
  function getRandom64BitsIntegerAsHex() {
    const randomInts = new Uint32Array(2);
    window.crypto.getRandomValues(randomInts)
    return `${toHex(randomInts[0])}${toHex(randomInts[1])}`
  }
  const adLink = document.getElementById('ad')
  adLink.setAttribute(
    'impressiondata',
    getRandom64BitsIntegerAsHex()
  )